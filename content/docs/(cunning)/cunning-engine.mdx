---
title: Cunning Engine
description: The High-Performance Integration Layer for Unity & Beyond
icon: Cpu
---

## Overview

<Lang lang="zh">

**Cunning Engine** æ˜¯è®© Cunning3D èµ„äº§ï¼ˆCDAï¼‰åœ¨å…¶ä»–å®¿ä¸»ä¸­è¿è¡Œçš„æ ¸å¿ƒé›†æˆå±‚ã€‚

ä¸åŒäºä¼ ç»Ÿçš„ "DCC æ¡¥æ¥"ï¼ˆé€šå¸¸éœ€è¦åå°è¿è¡Œä¸€ä¸ªåºå¤§çš„ DCC è¿›ç¨‹å¹¶é€šè¿‡ Socket é€šä¿¡ï¼‰ï¼ŒCunning Engine æ˜¯ä¸€ä¸ª**è½»é‡çº§ã€åŒè¿›ç¨‹çš„åŠ¨æ€é“¾æ¥åº“**ã€‚å®ƒå°†å®Œæ•´çš„ Cunning å‡ ä½•å†…æ ¸ç›´æ¥åµŒå…¥åˆ° Unity æ¸¸æˆå¼•æ“ä¸­ï¼Œæä¾›**é›¶å»¶è¿Ÿ**çš„äº¤äº’ä½“éªŒã€‚

</Lang>

<Lang lang="en">

**Cunning Engine** is the core integration layer that empowers Cunning3D Assets (CDA) to run inside other host applications.

Unlike traditional "DCC Bridges" (which often require a heavy background process communicating via sockets), Cunning Engine is a **lightweight, in-process dynamic library**. It embeds the complete Cunning geometry kernel directly into the Unity game engine, delivering **zero-latency** interactivity.

</Lang>

## Architecture Highlights

<Lang lang="zh">

### ğŸ›¡ï¸ å´©æºƒéš”ç¦» (Crash-Proof FFI)
**Rust çš„å®‰å…¨æ€§å»¶ä¼¸åˆ°äº† C#ã€‚**
æˆ‘ä»¬åœ¨ FFI è¾¹ç•Œå®ç°äº†ä¸¥å¯†çš„ `catch_unwind` ä¿æŠ¤æœºåˆ¶ã€‚å³ä½¿æŸä¸ªå®éªŒæ€§èŠ‚ç‚¹çš„ Rust ä»£ç å‘ç”Ÿ Panicï¼Œ**ç»å¯¹ä¸ä¼šå¯¼è‡´ Unity ç¼–è¾‘å™¨å´©æºƒ**ã€‚å¼•æ“ä¼šä¼˜é›…åœ°æ•è·é”™è¯¯ï¼ŒæŠ¥å‘Šå¼‚å¸¸ï¼Œè€Œä½ çš„é¡¹ç›®å®‰ç„¶æ— æ™ã€‚

### ğŸš€ In-Process Direct API
ç”±äº Cunning Engine ç›´æ¥ä½œä¸º DLL åŠ è½½è¿› Unity è¿›ç¨‹ç©ºé—´ï¼š
- **æ—  IPC å¼€é”€**ï¼šæ²¡æœ‰ TCP/IP æˆ–ç®¡é“é€šä¿¡çš„ç“¶é¢ˆã€‚
- **æ— åºåˆ—åŒ–å¼€é”€**ï¼šé¿å¼€äº†æ˜‚è´µçš„ JSON/Protobuf åºåˆ—åŒ–ï¼Œå‡ ä½•æ•°æ®é€šè¿‡é«˜é€Ÿ `memcpy` ç›´æ¥ä¼ è¾“ã€‚
- **ç¬æ—¶åé¦ˆ**ï¼šæ‹–åŠ¨æ»‘å—ï¼ŒUnity è§†å£ç«‹å³æ›´æ–°ï¼Œå°±åƒåŸç”Ÿç»„ä»¶ä¸€æ ·æµç•…ã€‚

### ğŸ§µ å¼‚æ­¥ä½œä¸šç³»ç»Ÿ (Async Job System)
ä¸ºäº†ä¸é˜»å¡ Unity çš„ä¸»çº¿ç¨‹ï¼ˆUI/æ¸²æŸ“ï¼‰ï¼ŒCunning Engine å†…ç½®äº†åŸºäº Rust çº¿ç¨‹æ± çš„**å¼‚æ­¥ Cook ç³»ç»Ÿ**ã€‚
- **éé˜»å¡**ï¼šä½ å¯ä»¥ä¸€æ¬¡æäº¤ 100 ä¸ªå¤æ‚çš„å¸ƒå°”è¿ç®—ä»»åŠ¡ï¼ŒUnity ç•Œé¢ä¾ç„¶ä¿æŒä¸æ»‘ã€‚
- **æ™ºèƒ½è°ƒåº¦**ï¼šæ”¯æŒä»»åŠ¡å–æ¶ˆä¸ä¼˜å…ˆçº§ç®¡ç†ã€‚å¦‚æœç”¨æˆ·å¿«é€Ÿæ‹–åŠ¨æ»‘å—ï¼Œè¿‡æœŸçš„è®¡ç®—ä»»åŠ¡ä¼šè¢«è‡ªåŠ¨ä¸¢å¼ƒï¼Œåªè®¡ç®—æœ€åä¸€å¸§ã€‚

</Lang>

<Lang lang="en">

### ğŸ›¡ï¸ Crash-Proof FFI
**Rust's safety extends to C#.**
We implement rigorous `catch_unwind` protection at the FFI boundary. Even if a node's Rust code panics, **it will absolutely not crash the Unity Editor**. The engine gracefully catches the error and reports it, keeping your project safe.

### ğŸš€ In-Process Direct API
Because Cunning Engine loads directly into the Unity process space as a DLL:
- **No IPC Overhead**: No bottlenecks from TCP/IP or pipe communication.
- **Zero Serialization**: Bypasses expensive JSON/Protobuf steps; geometry is transferred via high-speed `memcpy`.
- **Instant Feedback**: Drag a slider, and the Unity viewport updates instantly, just like a native component.

### ğŸ§µ Async Job System
To prevent blocking Unity's main thread (UI/Rendering), Cunning Engine features a built-in **Async Cook System** powered by Rust threads.
- **Non-Blocking**: Submit 100 complex boolean operations at once, and the Unity UI remains silky smooth.
- **Smart Scheduling**: Supports cancellation and prioritization. If a user drags a slider quickly, stale tasks are automatically dropped, computing only the final frame.

</Lang>

## Integration Scope

<Lang lang="zh">

| Platform | Integration Type | Status |
|----------|------------------|--------|
| **Unity** | Native Plugin (`.dll` / `.so`) | âœ… Production Ready |
| **Unreal** | Native Plugin (Planned) | ğŸš§ In Roadmap |
| **Custom C++** | C ABI Header | âœ… Supported |

Cunning Engine çš„æ ¸å¿ƒç›®æ ‡æ˜¯ï¼š**ä¸€æ¬¡ç¼–å†™èµ„äº§ï¼Œéšå¤„é«˜æ•ˆè¿è¡Œã€‚**

</Lang>

<Lang lang="en">

| Platform | Integration Type | Status |
|----------|------------------|--------|
| **Unity** | Native Plugin (`.dll` / `.so`) | âœ… Production Ready |
| **Unreal** | Native Plugin (Planned) | ğŸš§ In Roadmap |
| **Custom C++** | C ABI Header | âœ… Supported |

The core goal of Cunning Engine is: **Author assets once, run efficiently everywhere.**

</Lang>
