---
title: Coverlay & HUD
description: Interactive CDA units for tools, overlays, and viewport HUD
icon: LayoutPanelTop
---

<Lang lang="zh">
## æ¦‚è§ˆ

æˆ‘ä»¬ä¸º **CDAï¼ˆCunning Digital Assetï¼‰** å¢åŠ äº† **Coverlay** ä¸ **HUD** æš´éœ²èƒ½åŠ›ï¼Œè®© CDA ä¸å†åªæ˜¯â€œå¯è°ƒå‚æ•°çš„ç¨‹åºåŒ–èµ„äº§â€ï¼Œè€Œæ˜¯å¯ä»¥å˜æˆä¸€ä¸ª **å¸¦äº¤äº’å·¥å…·é¢æ¿ + è§†å£ HUD** çš„å°å‹ DCCã€‚

- **HUDï¼ˆå•é€‰ï¼‰**ï¼šè´´åœ¨è§†å£ä¸Šçš„è½»é‡äº¤äº’å±‚ï¼Œé€‚åˆâ€œå½“å‰å·¥å…·çŠ¶æ€/å¿«æ·æ“ä½œ/è½»é‡æŒ‰é’®â€ã€‚
- **Coverlayï¼ˆå¤šé€‰ï¼‰**ï¼šæ›´å¼ºçš„â€œå·¥å…·å¼æµ®åŠ¨é¢æ¿â€ï¼Œé€‚åˆé«˜é¢‘äº¤äº’èŠ‚ç‚¹ï¼ˆä¾‹å¦‚ä½“ç´ ç¼–è¾‘ã€æ›²çº¿å·¥å…·ã€ç»˜åˆ¶ç±»èŠ‚ç‚¹ï¼‰ã€‚

å…³é”®ç‚¹æ˜¯ï¼š**äº¤äº’ UI æœ¬èº«ä¸å±äº CDA æ–‡ä»¶æ ¼å¼çš„ä¸€éƒ¨åˆ†**ï¼ŒCDA åªæš´éœ²â€œå“ªäº›äº¤äº’å•å…ƒå¯ä»¥ç”¨ã€é»˜è®¤å¼€å“ªäº›ã€ä»¥åŠäº¤äº’å†™å›å“ªäº›å‚æ•°â€ã€‚è¿™æ ·åŒä¸€ä¸ª CDA èƒ½åœ¨ **Cunning3D ç¼–è¾‘å™¨ / Unity / WASM Player** ä¸Šå®ç°ä¸€è‡´äº¤äº’è¯­ä¹‰ã€‚
</Lang>

<Lang lang="en">
## Overview

We added **Coverlay** and **HUD** exposure for **CDA (Cunning Digital Asset)** so a CDA is not only a parameterized procedural asset, but can also behave like a **mini DCC** with interactive tool panels and viewport HUD.

- **HUD (single-select)**: a lightweight layer attached to the viewport, ideal for tool state, quick actions, and small controls.
- **Coverlay (multi-select)**: a stronger floating â€œtool panelâ€ system, designed for high-interaction nodes (voxel edit, curve tools, painting tools, etc.).

The important part: **the UI implementation is host-specific**, while the CDA exposes *which units exist / which are enabled by default / which parameters are written back*. This keeps the interaction semantics portable across **Cunning3D Editor / Unity / WASM Player**.
</Lang>

<Lang lang="zh">
## ä¸¤å±‚äº¤äº’ï¼šHUD vs Coverlay

```
è§†å£ (Viewport)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HUDï¼ˆå•é€‰ï¼‰: é€æ˜å åŠ å±‚                      â”‚
â”‚  - å½“å‰å·¥å…·æ ‡é¢˜/çŠ¶æ€                          â”‚
â”‚  - è½»é‡æŒ‰é’®/å¿«æ·æ“ä½œ                          â”‚
â”‚                                              â”‚
â”‚  3D åœºæ™¯æ¸²æŸ“                                  â”‚
â”‚                                              â”‚
â”‚  Coverlayï¼ˆå¤šé€‰ï¼‰: æµ®åŠ¨é¢æ¿ï¼ˆå¯æ‹–æ‹½ã€å¯å…³é—­ï¼‰  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Voxel Tools  â”‚  â”‚ Palette      â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **HUD å•é€‰**ï¼šä¸€æ¬¡åªå±•ç¤ºä¸€ä¸ª HUD å•å…ƒï¼ˆé€‚åˆâ€œå½“å‰é€‰ä¸­èŠ‚ç‚¹çš„ HUDâ€ï¼‰ã€‚
- **Coverlay å¤šé€‰**ï¼šå¯ä»¥åŒæ—¶æ‰“å¼€å¤šä¸ªé¢æ¿ï¼ˆå·¥å…·/è°ƒè‰²æ¿/è°ƒè¯•/å¯¼å…¥å¯¼å‡ºç­‰ï¼‰ã€‚
</Lang>

<Lang lang="en">
## Two layers: HUD vs Coverlay

```
Viewport
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HUD (single-select): transparent overlay     â”‚
â”‚  - tool title/state                           â”‚
â”‚  - quick actions                              â”‚
â”‚                                              â”‚
â”‚  3D rendering                                 â”‚
â”‚                                              â”‚
â”‚  Coverlay (multi-select): floating panels     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Voxel Tools  â”‚  â”‚ Palette      â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **HUD is single-select**: show at most one HUD unit at a time (good for â€œactive tool HUDâ€).
- **Coverlay is multi-select**: multiple panels can be open simultaneously (tools/palette/debug/import-export, etc.).
</Lang>

<Lang lang="zh">
## èµ„äº§ä¾§ï¼ˆAuthoringï¼‰ï¼šåœ¨ CDA é‡Œæš´éœ²å“ªäº›äº¤äº’å•å…ƒ

åœ¨ Cunning3D çš„ CDA ç¼–è¾‘é¢æ¿é‡Œï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ **å†…éƒ¨èŠ‚ç‚¹**æ ‡è®°ä¸ºå¯æš´éœ²çš„äº¤äº’å•å…ƒï¼š

- `hud_units`ï¼šæš´éœ²å¯ä½œä¸º HUD çš„å†…éƒ¨èŠ‚ç‚¹ï¼ˆå•é€‰ + é»˜è®¤é¡¹ï¼‰
- `coverlay_units`ï¼šæš´éœ²å¯ä½œä¸º Coverlay é¢æ¿çš„å†…éƒ¨èŠ‚ç‚¹ï¼ˆå¤šé€‰ + é»˜è®¤å¼€å…³ + icon/æ’åºï¼‰

ä½ å¯ä»¥æŠŠå®ƒç†è§£æˆâ€œæŠŠå†…éƒ¨èŠ‚ç‚¹çš„äº¤äº’èƒ½åŠ›æ˜ å°„åˆ° CDA çš„å¤–éƒ¨æ¥å£â€ï¼Œç±»ä¼¼â€œå‚æ•°æå‡ï¼ˆPromoted Paramsï¼‰â€ï¼Œä½†é¢å‘çš„æ˜¯ **äº¤äº’ UI å•å…ƒ**ã€‚
</Lang>

<Lang lang="en">
## Authoring: exposing interaction units in a CDA

In the CDA editor panel, we can expose **internal nodes** as interaction units:

- `hud_units`: internal nodes that can serve as HUD (single-select + default)
- `coverlay_units`: internal nodes that can serve as Coverlay panels (multi-select + default_on + icon/order)

Think of it as â€œmapping internal node interaction capability to the CDA external interfaceâ€. Similar spirit to promoted parameters, but for **interactive UI units**.
</Lang>

<Lang lang="zh">
### CDA JSONï¼ˆç¤ºä¾‹ï¼‰

ä¸‹é¢åªå±•ç¤ºä¸äº¤äº’ç›¸å…³çš„å­—æ®µï¼ˆçœŸå®æ ¼å¼ä»¥ `file-format` é¡µä¸ºå‡†ï¼‰ï¼š

```json
{
  "hud_units": [
    { "node_id": 1001, "label": "Voxel HUD", "order": 0, "is_default": true }
  ],
  "coverlay_units": [
    { "node_id": 1001, "label": "Voxel Tools", "icon": "ğŸ§Š", "order": 0, "default_on": true },
    { "node_id": 1001, "label": "Palette", "icon": "ğŸ¨", "order": 1, "default_on": true },
    { "node_id": 1001, "label": "Debug", "icon": "ğŸ§ª", "order": 2, "default_on": false }
  ]
}
```

> è¯´æ˜ï¼šåŒä¸€ä¸ªå†…éƒ¨èŠ‚ç‚¹å¯ä»¥åŒæ—¶ä½œä¸º HUD ä¸ Coverlay å•å…ƒæš´éœ²ï¼›æ˜¯å¦åœ¨è¿è¡Œæ—¶æ˜¾ç¤ºï¼Œå–å†³äºå®ä¾‹æ€çš„é€‰æ‹©ã€‚
</Lang>

<Lang lang="en">
### CDA JSON (example)

Only the interaction-related fields are shown below (see `File Format` for the full schema):

```json
{
  "hud_units": [
    { "node_id": 1001, "label": "Voxel HUD", "order": 0, "is_default": true }
  ],
  "coverlay_units": [
    { "node_id": 1001, "label": "Voxel Tools", "icon": "ğŸ§Š", "order": 0, "default_on": true },
    { "node_id": 1001, "label": "Palette", "icon": "ğŸ¨", "order": 1, "default_on": true },
    { "node_id": 1001, "label": "Debug", "icon": "ğŸ§ª", "order": 2, "default_on": false }
  ]
}
```

> Note: the same internal node can be exposed as both HUD and Coverlay units. Runtime visibility is instance-controlled.
</Lang>

<Lang lang="zh">
## è¿è¡Œæ—¶ï¼ˆRuntimeï¼‰ï¼šä¸ºä»€ä¹ˆè¿™èƒ½åšåˆ°â€œè·¨ç«¯ä¸€è‡´äº¤äº’â€

è¿è¡Œæ—¶æˆ‘ä»¬æŠŠâ€œäº¤äº’ç»“æœâ€æ”¶æ•›æˆä¸¤ç±»ç¨³å®šæ•°æ®ï¼š

- **å®ä¾‹æ€é€‰æ‹©**ï¼šå½“å‰å®ä¾‹æ‰“å¼€äº†å“ªä¸ª HUDã€æ‰“å¼€äº†å“ªäº› Coverlay å•å…ƒ
- **å®ä¾‹æ€å‚æ•°è¦†ç›–**ï¼šCoverlay/HUD å¯¹å†…éƒ¨èŠ‚ç‚¹åšçš„ä¿®æ”¹ï¼Œå†™åˆ°â€œå†…éƒ¨å‚æ•°è¦†ç›–è¡¨â€é‡Œï¼Œè€Œä¸æ˜¯ä¿®æ”¹èµ„äº§æœ¬ä½“

è¿™æ„å‘³ç€ï¼šUnity / WASM åªè¦èƒ½åšåˆ°â€œå†™è¿™äº›å®ä¾‹æ€æ•°æ®â€ï¼Œå°±å¯ä»¥ç”¨è‡ªå·±çš„ UI æŠ€æœ¯æ ˆå¤åˆ»åŒæ ·çš„äº¤äº’è¡Œä¸ºã€‚
</Lang>

<Lang lang="en">
## Runtime: why this works across platforms

At runtime, we reduce â€œinteraction resultsâ€ into two stable data categories:

- **Instance selection state**: which HUD is active and which Coverlay units are enabled
- **Per-instance parameter overrides**: writes go into an override table instead of mutating the asset itself

So Unity / WASM only needs to write the same instance state using their own UI stack to reproduce the same interaction behavior.
</Lang>

<Lang lang="zh">
## ç¤ºä¾‹ï¼šVoxel Edit CDA = ä½“ç´ ç¼–è¾‘å™¨ DCC

å½“ä¸€ä¸ª CDA å†…éƒ¨åŒ…å« `Voxel Edit` èŠ‚ç‚¹ï¼Œå¹¶æŠŠå®ƒä½œä¸º coverlay å•å…ƒæš´éœ²åï¼Œè¿™ä¸ª CDA å°±ä¸ä»…ä»…æ˜¯â€œè¾“å‡ºä¸€ä¸ªç½‘æ ¼â€ï¼Œè€Œæ˜¯ä¸€ä¸ª **å¯äº¤äº’çš„ä½“ç´ ç¼–è¾‘å™¨**ï¼š

- Coverlay é¢æ¿æä¾›ï¼šå·¥å…·æ¨¡å¼ï¼ˆAdd/Paint/Select/Move/Extrudeï¼‰ã€ç”»ç¬”å½¢çŠ¶ã€åŠå¾„ã€å¯¹ç§°ã€è°ƒè‰²æ¿ç­‰
- ç”¨æˆ·åœ¨è§†å£é‡Œè¿›è¡Œé¼ æ ‡/è§¦æ§äº¤äº’
- äº¤äº’è¢«è®°å½•ä¸º **å‘½ä»¤åˆ—è¡¨**ï¼ˆä¾‹å¦‚ `cmds_json`ï¼‰ï¼Œå†™å›å®ä¾‹æ€è¦†ç›–
- å›¾è¢«æ ‡è®°ä¸º dirtyï¼Œé‡æ–° cookï¼Œè§†å£æ˜¾ç¤ºæ›´æ–°åçš„ç»“æœ

ä½ å¯ä»¥æŠŠè¿™ç±» CDA å½“æˆâ€œæŠŠä¸€å¥— DCC å·¥å…·æ‰“åŒ…æˆå¯ç§»æ¤èµ„äº§â€ã€‚

å…³äºè¯¥èŠ‚ç‚¹çš„è¯¦ç»†åŠŸèƒ½ï¼Œè¯·å‚è€ƒ [Voxel Edit èŠ‚ç‚¹æ–‡æ¡£](/docs/nodes/voxel-edit)ã€‚
</Lang>

<Lang lang="en">
## Example: Voxel Edit CDA = a voxel editor DCC

If a CDA contains a `Voxel Edit` internal node and exposes it as coverlay units, the CDA becomes more than â€œa mesh generatorâ€ â€” it behaves like an **interactive voxel editor**:

- Coverlay panels provide tool mode (Add/Paint/Select/Move/Extrude), brush shape/radius, symmetry, palette, etc.
- User interacts in the viewport (mouse/touch)
- Interactions are recorded as a **command list** (e.g. `cmds_json`) and written back to per-instance overrides
- The graph is marked dirty, cooked again, and the viewport updates

This is how we package a DCC-like toolset as a portable asset.

For detailed features of this node, see the [Voxel Edit Node Documentation](/docs/nodes/voxel-edit).
</Lang>

<Lang lang="zh">
## è®¾è®¡å»ºè®®ï¼ˆå¯¹æ–‡æ¡£ä½œè€…/èµ„äº§ä½œè€…ï¼‰

- **è®©äº¤äº’å•å…ƒâ€œåƒå·¥å…·â€**ï¼šCoverlay é¢æ¿å°½é‡å¯¹åº”æ¸…æ™°èŒè´£ï¼ˆTools / Palette / Debug / Import / Exportï¼‰ï¼Œé¿å…ä¸€ä¸ªé¢æ¿å¡æ»¡æ‰€æœ‰ä¸œè¥¿ã€‚
- **æŠŠå¯å›æ”¾çš„äº¤äº’å†™æˆæ•°æ®**ï¼šä¾‹å¦‚å‘½ä»¤åˆ—è¡¨ã€ç¬”åˆ·å‚æ•°ã€é€‰æ‹©é›†ç­‰ï¼›è¿™æ ·å¯ä»¥å¤©ç„¶æ”¯æŒæ’¤é”€/é‡åšä¸è·¨ç«¯åŒæ­¥ã€‚
- **å®ä¾‹æ€è¦†ç›–ä¼˜å…ˆ**ï¼šäº¤äº’å†™å…¥ overridesï¼Œè€Œä¸æ˜¯æ”¹èµ„äº§æœ¬ä½“ï¼Œé¿å…â€œä¸€ä¸ªèµ„äº§è¢«å¤šä¸ªå®ä¾‹å…±äº«æ—¶äº’ç›¸æ±¡æŸ“â€ã€‚
</Lang>

<Lang lang="en">
## Design tips (for doc authors and asset authors)

- **Make units tool-like**: keep Coverlay panels focused (Tools / Palette / Debug / Import / Export) instead of one mega panel.
- **Record interactions as data**: command lists, brush params, selectionsâ€¦ this naturally supports undo/redo and cross-platform sync.
- **Prefer per-instance overrides**: write to overrides instead of mutating the shared asset.
</Lang>

