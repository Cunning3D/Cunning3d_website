---
title: Spline
description: Interactive Bezier curve editor.
icon: TrendingUp
---

<Lang lang="en">
The **Spline** node is a powerful, interactive Bezier curve editor embedded within the node graph. It is not just a generator but a full-featured tool for creating paths, profiles, and motion trajectories.

It outputs a `BezierCurve` primitive populated with rich attributes for downstream procedural processing.
</Lang>

<Lang lang="zh">
**Spline (曲线)** 节点是一个内嵌在节点图中的强大、交互式贝塞尔曲线编辑器。它不仅是一个生成器，更是一个功能齐全的工具，用于创建路径、轮廓和运动轨迹。

它输出一个带有丰富属性的 `BezierCurve` 图元，供下游程序化处理使用。
</Lang>

## Curve Structure (曲线结构)

<Lang lang="en">
A Spline consists of **Knots** (control points) and **Tangents** (handles) that define the curvature.
</Lang>

<Lang lang="zh">
曲线由 **节点 (Knots)**（控制点）和定义曲率的 **切线 (Tangents)**（手柄）组成。
</Lang>

<Drawio file="content/docs/diagrams/spline-structure.drawio" height={300} title="Spline Structure (Interactive)" />

<Lang lang="en">
*   **Knot**: The position of the control point.
*   **Tangent In**: Defines the curve approaching the knot.
*   **Tangent Out**: Defines the curve leaving the knot.
</Lang>

<Lang lang="zh">
*   **节点 (Knot)**: 控制点的位置。
*   **入切线 (Tangent In)**: 定义进入节点的曲线形状。
*   **出切线 (Tangent Out)**: 定义离开节点的曲线形状。
</Lang>

## Interaction (交互)

<Lang lang="en">
The Spline node features a dedicated **HUD** and **Gizmo** system for intuitive editing directly in the viewport.
</Lang>

<Lang lang="zh">
Spline 节点配备了专用的 **HUD** 和 **Gizmo** 系统，可在视口中进行直观编辑。
</Lang>

<Drawio file="content/docs/diagrams/spline-interaction.drawio" height={350} title="Spline Interaction (Interactive)" />

<Lang lang="en">
### Toolbar & Shortcuts
*   **Draw Mode**: Click "Draw Spline Mode" in the HUD to append new points by clicking in the viewport. Press `W` (Move Tool) to exit draw mode.
*   **Tools**:
    *   `W`: Move knots or tangents.
    *   `E`: Rotate knots (affects tangent direction).
    *   `R`: Scale tangents (affects tension).
*   **Selection**: Click to select a knot. Shift-click to select multiple.
</Lang>

<Lang lang="zh">
### 工具栏与快捷键
*   **绘制模式**: 点击 HUD 中的 "Draw Spline Mode"，然后在视口中点击以追加新点。按 `W` (移动工具) 退出绘制模式。
*   **工具**:
    *   `W`: 移动节点或切线。
    *   `E`: 旋转节点（影响切线方向）。
    *   `R`: 缩放切线（影响张力）。
*   **选择**: 点击选择节点。按住 Shift 点击多选。
</Lang>

## Interpolation Modes (插值模式)

<Lang lang="en">
Each knot can have a different interpolation mode, controlling how tangents behave:

| Mode | Description |
| :--- | :--- |
| **Linear** | Tangents are ignored. Creates straight lines to neighbors. |
| **Auto** | Automatically smooths the curve based on neighbor positions. |
| **Mirrored** | Tangents are locked to be collinear and equal length. (Standard smooth) |
| **Continuous** | Tangents are collinear but can have different lengths. |
| **Broken** | Tangents are fully independent. Allows sharp corners. |
</Lang>

<Lang lang="zh">
每个节点可以有不同的插值模式，控制切线的行为：

| 模式 | 描述 |
| :--- | :--- |
| **Linear (线性)** | 忽略切线。与邻居创建直线连接。 |
| **Auto (自动)** | 根据邻居位置自动平滑曲线。 |
| **Mirrored (镜像)** | 切线锁定为共线且等长。（标准平滑） |
| **Continuous (连续)** | 切线共线，但长度可以不同。 |
| **Broken (断开)** | 切线完全独立。允许尖角。 |
</Lang>

## Output Attributes (输出属性)

<Lang lang="en">
The node outputs geometry with the following point attributes, allowing downstream nodes (like PolyWire or Sweep) to respect the authored shape perfectly:
</Lang>

<Lang lang="zh">
节点输出带有以下点属性的几何体，允许下游节点（如 PolyWire 或 Sweep）完美遵循绘制的形状：
</Lang>

| Attribute | Type | Description |
| :--- | :--- | :--- |
| `@P` | `Vec3` | Knot Position. |
| `tangent_in` | `Vec3` | Incoming tangent vector relative to the knot. |
| `tangent_out` | `Vec3` | Outgoing tangent vector relative to the knot. |
| `rot` | `Quat` | Knot rotation (Banking/Twist). |
| `mode` | `Int` | Integer representing the interpolation mode. |
| `tension` | `Float` | Catmull-Rom tension value (if applicable). |
